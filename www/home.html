<!DOCTYPE html>
<!--User's home page-->
<html>
<head>
	<meta charset="utf-8"/>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script>
	<script src="/scripts/common/invalidSessionRedirect.js"></script>
	<script src="/scripts/home/logoutHandler.js"></script>
	<script src="/scripts/home/postCreation.js"></script>
	<script src="/scripts/home/userList.js"></script>
	<script src="/scripts/home/postAnalysis.js"></script>
	<!--DataTables functionality-->
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.11.5/datatables.min.css"/>
	<script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.11.5/datatables.min.js"></script>
	<!--Bootstrap library-->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
	<!--Custom stylesheet-->
	<link rel="stylesheet" href="/css/home.css">
	<title>Home</title>
</head>
<body>
	<div id="header-div">
		<h3>
			Home Page
			<div id="header-username"></div>
		</h3>
		<div id="logout-div">
			<button id="logout-button" onclick="logout()" class="btn btn-danger">Logout</button>
		</div>
	</div>
	<!--Create a new post-->
	<div id="create-post-div">
		<h4>Create New Post</h4>
		<form id="create-post-form" method="POST" enctype="multipart/form-data">
			<div class="form-floating">
				<input id="new-post-content" name="content" type="text" class="form-control" placeholder="">
				<label for="new-post-content">Content</label>
			</div>
			<div hidden="true">
				<label for="new-post-image">Image:</label>
				<input id="new-post-image" name="image" type="file" accept="image/*"><br>
			</div>
			<input id="new-post-sentiment-input" type="hidden" name="sentiment" value="">
			<input type="submit" value="Create Post" onclick="uploadPost()" class="btn btn-primary">
		</form>
	</div>
	<!--Analysis controls for post being created-->
	<div id="new-post-analysis-div">
		<h3 style="text-align:center">New Post Analysis</h3>
		<div id="post-sentiment-div" class="analyzer">
			<h4>Current Post Sentiment</h4>
			<button class="btn btn-primary btn-sm" onclick="computeNewPostSentiment()">Analyze Sentiment</button>
			<div id="post-sentiment-label"></div>
		</div>
		
		<div id="similar-local-posts-div" class="analyzer">
			<h4>Similar Posts on Local Site</h4>
			<button class="btn btn-sm btn-primary" onclick="getSimilarPostsLocal()">Find Similar Local Posts</button>
			<div id="similar-local-posts-list"></div>
			<table id="similar-local-posts-table" width=70%></table>
		</div>
		
		<div id="similar-twitter-posts-div" class="analyzer">
			<h4>Similar Posts on Twitter</h4>
			<button class="btn btn-sm btn-primary" onclick="getSimilarPostsTwitter()">Find Similar Twitter Posts</button>
			<div id="similar-twitter-posts-list"></div>
		</div>

		<div id="twitter-sentiments-div" class="analyzer">
			<h4>Current Twitter Trends</h4>
			<button class="btn btn-sm btn-primary" onclick="getTwitterSentiments()">Get Twitter Trend Sentiments</button>
			<table id="twitter-trend-sentiments-table" width=70%></table>
		</div>
	</div>
	<hr>
	<!--Display list of all users-->
	<div id="user-list-div">
		<h4>Registered Users</h4>
		<table id="registered-users-table" width=60%></table>
	</div>
</body>
</html>
